language: node_js
node_js:
- 8
cache:
  directories:
  - node_modules
script:
- npm run build
deploy:
  provider: gcs
  edge: true
  access_key_id:
    secure: YH4gNDCFqtwG3nt5RGzVZQKU8WAInvhk4dQ5Si3HpfIKqFQQ0JR5cNvhYSFt3Xvys8/aRWNz+2A3xzsmldGcH3kSGqDtIyBUWjLEE9SLsscHQEqxKQVLE/e8gD6L09P1ss8cKfETj3lq/aJzle7eL8Dqmkat8rK/8TInvLrvrfRLcoEY/JYBUfwub5ItF83yeQqbcWSRqGE3/KjTEqmxqAgBO4c0WU9b0woFbatDqcXDyrLJKM0i4rR8E1aDf5mDBr5vMsZ9Y+9WTOA5ZCJXHBNCdtR9CQwke60DQg6mrjRi5pLlS0qZVvryJcv0LEO22aBjgTZF/xZm+j4+qJOI5HxsgGX1jaX/pvInik+lN0cQWhKjV+VBra8hukB8801iIOLTe2O3kfQLQtym4n01yW3G9XuCWiU9bVN3+ZwXfgo+RvnHWtbBZUEj7PrmVN+jwuXS3U0IH5ghyiFee3HT2538oIFKSd073yEL4efb5ZCuKrQLoNgjGS93Etk3XresWKP8SkiEnaSWkZ3XoVNqP5KwSyd10F4z+ScWIaldFzZPKaviwJ+GSVimTHfduYUz98vSZGUsHJAZzXvbDViAxw42eTkaleFkXp2L+dZxD/iZ8gQSW08bWmKo7qsF/+T6xYbUetG7O5CH13+fkK/UVxj/4gUoREcAGKQJS5QUHGA=
  secret_access_key:
    secure: lAbcBrTzhCB0+sHTpZDeCIZ9LPoCbagau769sPQ4OAZjGx2FEN2UUjbU8ZSKgQkj38eFSObKzSwZ+B4gDn9w9QaxVX9rvfprV3WXVErOeECsZXLRfJw3JuqmVwIIZAX2SOw4fY6V8VgetF5GtCKu8sOHil9EefpQqMoS3SOtOjg7yQK0Guf2591KKrEzDiw6fDnSsLDKdCNQbe8NuKYuEEQ1SZLVUP5O1jF2jNNNIuM5KQ5JeMcATGpr5duxKDcjtBeMyEL3atbM1bSQyPabavLbT3xSPUPJ6tYL/0cDwpOXvTkMsbevNcyM8OEv+aBnumDiiCoCt8qMwEhMUgSO630ZK2WA+SHsXkzOvYMmFJNNPyGjvU29JpEydiKMHxE/jh5IUf/i8QI3E/DR7Rx9l/Txk7oWf578EJFxwhT2XJVMSy5HEOZWKa2sU7DV4juPN/SsH8CSs9FGg1zMfG26aG43ZCyXko3T9TxrR57O0xFGy8xA1baA/yXB3R7vBTZhLScwwg9niep3iJooXVwzXoDIcnaSoiV4vp9z/e5wV0peCxcvANv6KV6WXas0nuyGYfa/fNlhwjfAv50a+kmyn7bvjq8D0IID6iCZvIiYoaO2Bg3lQRCt9ZzXX7Vs4OHQRnOh7L0A8xkJsVEo4wnMkkOBHnVDjL6GVmIidRIA/PQ=
  bucket: beta.mmacc.uk
  local_dir: dist
  skip_cleanup: true
  acl: "public-read"
  detect_encoding: true
  cache_control: "public, max-age=31536000"
  on:
    branch: master
    repo: mmaccuk/mmacc.uk
